<!DOCTYPE HTML>
<html lang="en" class="sidebar-visible no-js rust">
    <head>
        <!-- Book generated using mdBook -->
        <meta charset="UTF-8">
        <title>Theta Wave Documentation</title>
        
        <meta name="robots" content="noindex" />
        

        <meta content="text/html; charset=utf-8" http-equiv="Content-Type">
        <meta name="description" content="">
        <meta name="viewport" content="width=device-width, initial-scale=1">
        <meta name="theme-color" content="#ffffff" />

        <link rel="shortcut icon" href="favicon.png">
        <link rel="stylesheet" href="css/variables.css">
        <link rel="stylesheet" href="css/general.css">
        <link rel="stylesheet" href="css/chrome.css">
        <link rel="stylesheet" href="css/print.css" media="print">

        <!-- Fonts -->
        <link rel="stylesheet" href="FontAwesome/css/font-awesome.css">
        <link href="https://fonts.googleapis.com/css?family=Open+Sans:300italic,400italic,600italic,700italic,800italic,400,300,600,700,800" rel="stylesheet" type="text/css">
        <link href="https://fonts.googleapis.com/css?family=Source+Code+Pro:500" rel="stylesheet" type="text/css">

        <!-- Highlight.js Stylesheets -->
        <link rel="stylesheet" href="highlight.css">
        <link rel="stylesheet" href="tomorrow-night.css">
        <link rel="stylesheet" href="ayu-highlight.css">

        <!-- Custom theme stylesheets -->
        

        
    </head>
    <body>
        <!-- Provide site root to javascript -->
        <script type="text/javascript">
            var path_to_root = "";
            var default_theme = window.matchMedia("(prefers-color-scheme: dark)").matches ? "rust" : "rust";
        </script>

        <!-- Work around some values being stored in localStorage wrapped in quotes -->
        <script type="text/javascript">
            try {
                var theme = localStorage.getItem('mdbook-theme');
                var sidebar = localStorage.getItem('mdbook-sidebar');

                if (theme.startsWith('"') && theme.endsWith('"')) {
                    localStorage.setItem('mdbook-theme', theme.slice(1, theme.length - 1));
                }

                if (sidebar.startsWith('"') && sidebar.endsWith('"')) {
                    localStorage.setItem('mdbook-sidebar', sidebar.slice(1, sidebar.length - 1));
                }
            } catch (e) { }
        </script>

        <!-- Set the theme before any content is loaded, prevents flash -->
        <script type="text/javascript">
            var theme;
            try { theme = localStorage.getItem('mdbook-theme'); } catch(e) { }
            if (theme === null || theme === undefined) { theme = default_theme; }
            var html = document.querySelector('html');
            html.classList.remove('no-js')
            html.classList.remove('rust')
            html.classList.add(theme);
            html.classList.add('js');
        </script>

        <!-- Hide / unhide sidebar before it is displayed -->
        <script type="text/javascript">
            var html = document.querySelector('html');
            var sidebar = 'hidden';
            if (document.body.clientWidth >= 1080) {
                try { sidebar = localStorage.getItem('mdbook-sidebar'); } catch(e) { }
                sidebar = sidebar || 'visible';
            }
            html.classList.remove('sidebar-visible');
            html.classList.add("sidebar-" + sidebar);
        </script>

        <nav id="sidebar" class="sidebar" aria-label="Table of contents">
            <div class="sidebar-scrollbox">
                <ol class="chapter"><li class="chapter-item expanded "><a href="intro.html"><strong aria-hidden="true">1.</strong> Introduction</a></li><li class="chapter-item expanded "><a href="gameplay.html"><strong aria-hidden="true">2.</strong> Gameplay</a></li><li><ol class="section"><li class="chapter-item expanded "><a href="controls.html"><strong aria-hidden="true">2.1.</strong> Controls</a></li><li class="chapter-item expanded "><a href="characters.html"><strong aria-hidden="true">2.2.</strong> Characters</a></li><li class="chapter-item expanded "><a href="items.html"><strong aria-hidden="true">2.3.</strong> Items</a></li><li class="chapter-item expanded "><a href="consumables.html"><strong aria-hidden="true">2.4.</strong> Consumables</a></li><li class="chapter-item expanded "><a href="enemies.html"><strong aria-hidden="true">2.5.</strong> Enemies</a></li><li class="chapter-item expanded "><a href="allies.html"><strong aria-hidden="true">2.6.</strong> Allies</a></li><li class="chapter-item expanded "><a href="bosses.html"><strong aria-hidden="true">2.7.</strong> Bosses</a></li></ol></li><li class="chapter-item expanded "><a href="contributing.html"><strong aria-hidden="true">3.</strong> Contibuting code</a></li><li class="chapter-item expanded "><a href="architecture.html"><strong aria-hidden="true">4.</strong> Architecture</a></li><li><ol class="section"><li class="chapter-item expanded "><a href="entities-components.html"><strong aria-hidden="true">4.1.</strong> Entities and Their Components</a></li><li class="chapter-item expanded "><a href="TODO.html"><strong aria-hidden="true">4.2.</strong> Systems</a></li></ol></li><li class="chapter-item expanded "><a href="TODO.html"><strong aria-hidden="true">5.</strong> Guides</a></li><li><ol class="section"><li class="chapter-item expanded "><a href="TODO.html"><strong aria-hidden="true">5.1.</strong> Contributing art</a></li><li class="chapter-item expanded "><a href="add_item.html"><strong aria-hidden="true">5.2.</strong> Adding Items</a></li><li><ol class="section"><li class="chapter-item expanded "><a href="design_item.html"><strong aria-hidden="true">5.2.1.</strong> Design your Item</a></li><li class="chapter-item expanded "><a href="append_item_sprite.html"><strong aria-hidden="true">5.2.2.</strong> Append Sprite to Spritesheet</a></li><li class="chapter-item expanded "><a href="append_item_data.html"><strong aria-hidden="true">5.2.3.</strong> Append Data to items.ron</a></li><li class="chapter-item expanded "><a href="TODO.html"><strong aria-hidden="true">5.2.4.</strong> Item Animations</a></li><li class="chapter-item expanded "><a href="TODO.html"><strong aria-hidden="true">5.2.5.</strong> Adding New Stat Effects</a></li><li class="chapter-item expanded "><a href="TODO.html"><strong aria-hidden="true">5.2.6.</strong> Adding New Bool Effects</a></li></ol></li><li class="chapter-item expanded "><a href="TODO.html"><strong aria-hidden="true">5.3.</strong> Writing tests</a></li></ol></li><li class="chapter-item expanded "><a href="item_effects.html"><strong aria-hidden="true">6.</strong> Appendix A: Item Effects</a></li><li><ol class="section"><li class="chapter-item expanded "><a href="stat_effects.html"><strong aria-hidden="true">6.1.</strong> Stat Effects</a></li><li class="chapter-item expanded "><a href="bool_effects.html"><strong aria-hidden="true">6.2.</strong> Bool Effects</a></li></ol></li></ol>
            </div>
            <div id="sidebar-resize-handle" class="sidebar-resize-handle"></div>
        </nav>

        <div id="page-wrapper" class="page-wrapper">

            <div class="page">
                
                <div id="menu-bar-hover-placeholder"></div>
                <div id="menu-bar" class="menu-bar sticky bordered">
                    <div class="left-buttons">
                        <button id="sidebar-toggle" class="icon-button" type="button" title="Toggle Table of Contents" aria-label="Toggle Table of Contents" aria-controls="sidebar">
                            <i class="fa fa-bars"></i>
                        </button>
                        <button id="theme-toggle" class="icon-button" type="button" title="Change theme" aria-label="Change theme" aria-haspopup="true" aria-expanded="false" aria-controls="theme-list">
                            <i class="fa fa-paint-brush"></i>
                        </button>
                        <ul id="theme-list" class="theme-popup" aria-label="Themes" role="menu">
                            <li role="none"><button role="menuitem" class="theme" id="light">Light</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="rust">Rust (default)</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="coal">Coal</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="navy">Navy</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="ayu">Ayu</button></li>
                        </ul>
                        
                        <button id="search-toggle" class="icon-button" type="button" title="Search. (Shortkey: s)" aria-label="Toggle Searchbar" aria-expanded="false" aria-keyshortcuts="S" aria-controls="searchbar">
                            <i class="fa fa-search"></i>
                        </button>
                        
                    </div>

                    <h1 class="menu-title">Theta Wave Documentation</h1>

                    <div class="right-buttons">
                        <a href="print.html" title="Print this book" aria-label="Print this book">
                            <i id="print-button" class="fa fa-print"></i>
                        </a>
                        
                    </div>
                </div>

                
                <div id="search-wrapper" class="hidden">
                    <form id="searchbar-outer" class="searchbar-outer">
                        <input type="search" name="search" id="searchbar" name="searchbar" placeholder="Search this book ..." aria-controls="searchresults-outer" aria-describedby="searchresults-header">
                    </form>
                    <div id="searchresults-outer" class="searchresults-outer hidden">
                        <div id="searchresults-header" class="searchresults-header"></div>
                        <ul id="searchresults">
                        </ul>
                    </div>
                </div>
                

                <!-- Apply ARIA attributes after the sidebar and the sidebar toggle button are added to the DOM -->
                <script type="text/javascript">
                    document.getElementById('sidebar-toggle').setAttribute('aria-expanded', sidebar === 'visible');
                    document.getElementById('sidebar').setAttribute('aria-hidden', sidebar !== 'visible');
                    Array.from(document.querySelectorAll('#sidebar a')).forEach(function(link) {
                        link.setAttribute('tabIndex', sidebar === 'visible' ? 0 : -1);
                    });
                </script>

                <div id="content" class="content">
                    <main>
                        <h1><a class="header" href="#introduction" id="introduction">Introduction</a></h1>
<p>Hey there! Welcome to the book for the Theta Wave game. It aims to serve
as the primary source of documentation for those interested in contributing to
a game using the <a href="https://amethyst.rs/">Amethyst game engine</a>.</p>
<p>This book is being actively updated. So there may be sections that are still
under construction.</p>
<h1><a class="header" href="#gameplay" id="gameplay">Gameplay</a></h1>
<p>In Theta Wave, you play as a spaceship defending an objective. The goal
of the game is to survive levels by destroying enemies, collecting consumables,
buying items, and defeating the final boss.</p>
<p>In this section you can find detailed information about the enemies,
consumables, items, enemies, allies, and bosses in the game.</p>
<p><img src="assets/gameplay.gif" alt="gameplay of space_shooter_rs" /></p>
<h1><a class="header" href="#controls" id="controls">Controls</a></h1>
<p>In Theta Wave you control a spaceship character. You can move around,
shoot, use abilities, and buy items from the store.</p>
<table><thead><tr><th align="center">Key</th><th align="center"></th><th align="center">Action</th></tr></thead><tbody>
<tr><td align="center">W</td><td align="center"><img src="assets/w_key.gif" alt="w_key" /></td><td align="center">Accelerate up.</td></tr>
<tr><td align="center">S</td><td align="center"><img src="assets/s_key.gif" alt="s_key" /></td><td align="center">Accelerate down.</td></tr>
<tr><td align="center">A</td><td align="center"><img src="assets/a_key.gif" alt="a_key" /></td><td align="center">Accelerate left.</td></tr>
<tr><td align="center">D</td><td align="center"><img src="assets/d_key.gif" alt="d_key" /></td><td align="center">Accelerate right.</td></tr>
<tr><td align="center">Space</td><td align="center"><img src="assets/space_key.gif" alt="space_key" /></td><td align="center">Fire blast.</td></tr>
<tr><td align="center">Left</td><td align="center"><img src="assets/left_key.gif" alt="left_key" /></td><td align="center">Barrel roll left.</td></tr>
<tr><td align="center">Right</td><td align="center"><img src="assets/right_key.gif" alt="right_key" /></td><td align="center">Barrel roll right.</td></tr>
<tr><td align="center">1</td><td align="center"><img src="assets/one_key.gif" alt="one_key" /></td><td align="center">Buy shop item 1.</td></tr>
<tr><td align="center">2</td><td align="center"><img src="assets/two_key.gif" alt="two_key" /></td><td align="center">Buy shop item 2.</td></tr>
<tr><td align="center">3</td><td align="center"><img src="assets/three_key.gif" alt="three_key" /></td><td align="center">Buy shop item 3.</td></tr>
<tr><td align="center">Escape</td><td align="center"><img src="assets/esc_key.gif" alt="esc_key" /></td><td align="center">Pause the game.</td></tr>
</tbody></table>
<h1><a class="header" href="#characters" id="characters">Characters</a></h1>
<p>In the future, the player will be able to choose to play as one of many
characters. Each character has a unique special ability.</p>
<table><thead><tr><th align="center">Name</th><th align="center">Image</th><th align="center">Special Ability</th></tr></thead><tbody>
<tr><td align="center">Juggernaut</td><td align="center"><img src="assets/spaceship_portrait.png" alt="juggernaut" /></td><td align="center">Barrel roll to the left or right.</td></tr>
</tbody></table>
<h1><a class="header" href="#items" id="items">Items</a></h1>
<p>Items can be purchased from the shop (bottom right). They grant the player
permanent augmentations.</p>
<table><thead><tr><th align="center">Name</th><th align="center"></th><th align="center">Description</th></tr></thead><tbody>
<tr><td align="center">Steel Barrel</td><td align="center"><img src="assets/steel_barrel_portrait.png" alt="steel_barrel" /></td><td align="center">Gives player collision damage immunity while barrel rolling.</td></tr>
<tr><td align="center">Plasma Blasts</td><td align="center"><img src="assets/plasma_blast_portrait.png" alt="plasma_blast" /></td><td align="center">Increases fire rate and damage.</td></tr>
<tr><td align="center">Hazardous Reactor</td><td align="center"><img src="assets/hazardous_reactor_portrait.png" alt="hazardous_reactor" /></td><td align="center">Increases maximum speed.</td></tr>
<tr><td align="center">Warp Thruster</td><td align="center"><img src="assets/warp_thruster_portrait.png" alt="warp_thruster" /></td><td align="center">Increases acceleration and deceleration.</td></tr>
<tr><td align="center">Quadrupedal Tentaclover</td><td align="center"><img src="assets/quadrupedal_tentaclover_portrait.png" alt="quadrupedal_tentaclover" /></td><td align="center">Grants chance to critical hit.</td></tr>
<tr><td align="center">Defense Satellite</td><td align="center"><img src="assets/defense_satellite_portrait.png" alt="defense_satellite" /></td><td align="center">Increases maximum defense.</td></tr>
<tr><td align="center">Double Barrel</td><td align="center"><img src="assets/double_barrel_portrait.png" alt="double_barrel" /></td><td align="center">Grants double blasts.</td></tr>
<tr><td align="center">Yithian Plague</td><td align="center"><img src="assets/yithian_plague_portrait.png" alt="yithian_plague" /></td><td align="center">Grants chance to poison.</td></tr>
<tr><td align="center">Spice</td><td align="center"><img src="assets/spice_portrait.png" alt="spice" /></td><td align="center">Decreases barrel roll cooldown time.</td></tr>
<tr><td align="center">Enhanced Plating</td><td align="center"><img src="assets/enhanced_plating_portrait.png" alt="enhanced_plating" /></td><td align="center">Increases maximum health by a factor.</td></tr>
<tr><td align="center">Structure Reinforcement</td><td align="center"><img src="assets/structure_reinforcement_portrait.png" alt="structure_reinforcement" /></td><td align="center">Increases maximum health.</td></tr>
<tr><td align="center">Blast Size Enhancer</td><td align="center"><img src="assets/blast_size_enhancer_portrait.png" alt="blast_size_enhancer" /></td><td align="center">Increases size of blasts.</td></tr>
<tr><td align="center">Frequency Augmentor</td><td align="center"><img src="assets/frequency_augmentor_portrait.png" alt="frequency_augmentor" /></td><td align="center">Sharply increases fire rate of blasts at the cost of some damage.</td></tr>
</tbody></table>
<h1><a class="header" href="#consumables" id="consumables">Consumables</a></h1>
<p>Consumables have a chance to be dropped from enemies upon being destroyed.</p>
<table><thead><tr><th align="center">Name</th><th align="center">Image</th><th align="center">Description</th></tr></thead><tbody>
<tr><td align="center">Health Wrench</td><td align="center"><img src="assets/health_wrench_portrait.png" alt="health_wrench" /></td><td align="center">Grants health to the player.</td></tr>
<tr><td align="center">Defense Wrench</td><td align="center"><img src="assets/defense_wrench_portrait.png" alt="defense_wrench" /></td><td align="center">Grants defense.</td></tr>
<tr><td align="center">1x Currency</td><td align="center"><img src="assets/money_1_portrait.png" alt="money_1_wrench" /></td><td align="center">Grants 1 currency.</td></tr>
<tr><td align="center">5x Currency</td><td align="center"><img src="assets/money_5_portrait.png" alt="money_5_wrench" /></td><td align="center">Grants 5 currency.</td></tr>
</tbody></table>
<h1><a class="header" href="#enemies" id="enemies">Enemies</a></h1>
<p>Enemies can damage the player and the defense. Upon being destroyed they have a
chance to drop consumables.</p>
<table><thead><tr><th align="center">Name</th><th align="center">Image</th><th align="center">Description</th></tr></thead><tbody>
<tr><td align="center">Drone</td><td align="center"><img src="assets/drone.gif" alt="drone_enemy" /></td><td align="center">Most basic enemy in the game. Moves towards the bottom of the arena and does defense damage on arrival.</td></tr>
<tr><td align="center">Pawn</td><td align="center"><img src="assets/pawn.gif" alt="pawn_enemy" /></td><td align="center">Moves towards the bottom of the arena at a reduced speed and does defense damage on arrival. Periodically fires a blast.</td></tr>
<tr><td align="center">Strafer</td><td align="center"><img src="assets/strafer.gif" alt="strafer_enemy" /></td><td align="center">Strafes left and right towards the bottom of the arena at a reduced speed and does defense damage on arrival. Periodically fires a blast.</td></tr>
</tbody></table>
<h1><a class="header" href="#allies" id="allies">Allies</a></h1>
<p>Allies provide a temporary objective. Make sure they survive and you will be rewarded.</p>
<table><thead><tr><th align="center">Name</th><th align="center">Image</th><th align="center">Description</th></tr></thead><tbody>
<tr><td align="center">Hauler</td><td align="center"><img src="assets/hauler.gif" alt="hauler_ally" /></td><td align="center">Moves towards the bottom of the arena at a very reduced speed and grants defense on arrival.</td></tr>
</tbody></table>
<h1><a class="header" href="#bosses" id="bosses">Bosses</a></h1>
<p>Bosses arrive at the end of a stage. Destory them to move on to the next stage.</p>
<table><thead><tr><th align="center">Name</th><th align="center">Image</th><th align="center">Description</th></tr></thead><tbody>
<tr><td align="center">Repeater</td><td align="center"><img src="assets/repeater_portrait.png" alt="repeater_boss" /></td><td align="center">WIP.</td></tr>
</tbody></table>
<h1><a class="header" href="#contributing" id="contributing">Contributing</a></h1>
<p>If you haven't already, please take some time to read the community <a href="https://github.com/amethyst/theta-wave/blob/master/CODE_OF_CONDUCT.md">Code of Conduct</a>.</p>
<h2><a class="header" href="#the-basics" id="the-basics">The Basics</a></h2>
<p>If you're familiar with the basics of the <a href="https://amethyst.rs/">Amethyst</a> engine
or programming with Rust, then you can contribute! And even if you aren't, these
are some of the things you can learn to get up to speed:</p>
<h3><a class="header" href="#ecs-and-amethyst-concepts" id="ecs-and-amethyst-concepts">ECS and Amethyst concepts</a></h3>
<ul>
<li><a href="https://book.amethyst.rs/stable/concepts/entity_and_component.html">Entity and Component</a></li>
<li><a href="https://book.amethyst.rs/stable/concepts/system.html">System</a></li>
<li><a href="https://book.amethyst.rs/stable/concepts/event-channel.html">Event Channels</a></li>
</ul>
<h3><a class="header" href="#rust-concepts" id="rust-concepts">Rust concepts</a></h3>
<ul>
<li><a href="https://doc.rust-lang.org/book/ch18-00-patterns.html">Patterns and Matching</a></li>
<li><a href="https://doc.rust-lang.org/stable/rust-by-example/std/option.html">Option</a></li>
<li><a href="https://doc.rust-lang.org/stable/rust-by-example/trait.html">Traits</a></li>
</ul>
<p>This isn't an exhaustive list of everything there is to know. But it should be
enough to start contributing.</p>
<h2><a class="header" href="#contributing-code" id="contributing-code">Contributing code</a></h2>
<p>In general, the process for contributing goes like
this:</p>
<ul>
<li>Pick an issue to work on</li>
<li>Setup your development environment</li>
<li>Write the patch, create a PR, and request a review</li>
</ul>
<h3><a class="header" href="#pick-an-issue-to-work-on" id="pick-an-issue-to-work-on">Pick an issue to work on</a></h3>
<p>Take a look at the <a href="https://github.com/amethyst/theta-wave/issues">issues list</a>
and choose an issue you'd like to work on. Issues labeled as <a href="https://github.com/amethyst/theta-wave/issues?q=is%3Aissue+label%3A%22good+first+issue%22+is%3Aopen">good first issue</a>
are a great way to get started with the codebase.</p>
<p>Make sure to claim the issue by
commenting you'd like to work on it and mentioning either <strong>@cdsupina</strong> or
<strong>@tigleym</strong>. Ask questions if something is unclear about the issue you are
working on.</p>
<h4><a class="header" href="#creating-your-own-issue" id="creating-your-own-issue">Creating your own issue</a></h4>
<p>If the existing issues aren't what you're looking for then feel free to create
a new issue! This can be fixing a bug, improving documentation, or a
proposal to implement a new feature. Whatever the purpose is, please make sure
to create an issue for it describing what you intend to do and why.</p>
<p>If you need help identifying what the focus of your issue should be,
feel free to mention either <strong>@cdsupina</strong> and <strong>@tigleym</strong>. We can help identify
the sort of work that might be involved for your issue.</p>
<p>This step is important because we want to make sure the work behind each pull
request has context and intent.</p>
<h3><a class="header" href="#setting-up-your-dev-environment" id="setting-up-your-dev-environment">Setting up your dev environment</a></h3>
<p>This part of the process involves getting a local copy of the project and setting
up your development machine to be able to build and run it.</p>
<ol>
<li>
<p>Since this is a game built with the Amethyst game engine, it's important that
<a href="https://book.amethyst.rs/stable/getting-started.html">Rust is setup</a> and have
the proper <a href="https://github.com/amethyst/amethyst/blob/master/README.md#dependencies">dependencies installed</a>
on your dev machine.</p>
</li>
<li>
<p><a href="https://docs.github.com/en/github/getting-started-with-github/fork-a-repo#fork-an-example-repository">Fork</a> the Theta Wave project.</p>
</li>
<li>
<p><a href="https://docs.github.com/en/github/getting-started-with-github/fork-a-repo#step-2-create-a-local-clone-of-your-fork">Create a local clone of the fork</a></p>
</li>
<li>
<p><a href="https://github.com/amethyst/theta-wave#to-run">Run the game</a></p>
</li>
</ol>
<p>Once you're able to successfully build the game, you can start writing some code!</p>
<h3><a class="header" href="#write-the-patch-pr-and-request-a-review" id="write-the-patch-pr-and-request-a-review">Write the patch, PR, and request a review</a></h3>
<p>Before writing your patch, branch off <code>develop</code>:</p>
<pre><code class="language-none">git checkout -b &lt;branch-name&gt; develop
</code></pre>
<p>When finished writing your patch, <a href="https://www.atlassian.com/git/tutorials/saving-changes">save</a> and
<a href="https://www.atlassian.com/git/tutorials/saving-changes/git-commit">commit</a> your work:</p>
<pre><code class="language-none">git add
git commit -m &quot;meaningful commit message&quot;
</code></pre>
<p>Make sure to run <code>cargo fmt</code> to ensure your work is formatted correctly and that
no warnings are present when you run <code>cargo build</code>. The CI checks will fail if
build warnings are present in your PR.</p>
<p>Now that your patch is ready for review, you can <a href="https://www.atlassian.com/git/tutorials/syncing/git-push">push</a> your changes:</p>
<pre><code class="language-none">git push
</code></pre>
<p>and <a href="https://docs.github.com/en/desktop/contributing-and-collaborating-using-github-desktop/creating-an-issue-or-pull-request#creating-a-pull-request">create that PR</a> for review!</p>
<p><strong><em>Please make sure to link the issue you selected earlier in the PR's description.</em></strong></p>
<h1><a class="header" href="#architecture" id="architecture">Architecture</a></h1>
<p>Theta Wave is made with the Amethyst game engine. This means that
the design methodology Theta Wave uses is ECS (Entity Component System).
This section will provide an overview of the Entities, Components, and Systems
present in Theta Wave. The aim here is to provide a resource for how
ECS is applied to this specific game. But it can also serve as an example of
what a game architecture using ECS could look like in practice.</p>
<p><img src="./assets/entity-component-image.png" alt="entity-component-diagram" /></p>
<p><img src="./assets/animation-system.png" alt="animation-system-diagram" /></p>
<h1><a class="header" href="#entities-and-their-components" id="entities-and-their-components">Entities and their components</a></h1>
<p>The core of ECS is knowing that an entity is a collection of components. These
components provide bits of functionality to the entity that, when combined
together, make it easier to conceptualize the expected behaviour of the entity.</p>
<p>There are several
<a href="https://github.com/amethyst/theta-wave/tree/master/src/entities">entities</a>
and
<a href="https://github.com/amethyst/theta-wave/tree/master/src/components">components</a>
in Theta Wave. This might make the game's code seem
intimidating and needlessly complex, but being able to break down functionality
of an entity into smaller pieces of data makes it much easier to expand upon
as the game grows.</p>
<p>We will look at three entities present in Theta Wave: <code>Spaceship</code>
(refers to the player), <code>Enemy</code>
and <code>Item</code>. For each one, we can define a set of requirements these entities
should have:</p>
<table><thead><tr><th align="center">Component</th><th align="center">Description</th><th align="center">Entities attached to</th></tr></thead><tbody>
<tr><td align="center">Animation</td><td align="center">Is animated</td><td align="center">Item, Enemy, Spaceship</td></tr>
<tr><td align="center">Blaster</td><td align="center">Can fire projectiles (blasts)</td><td align="center">Enemy, Spaceship</td></tr>
<tr><td align="center">Enemy</td><td align="center">Data specific to <code>Enemy</code> entities</td><td align="center">Enemy</td></tr>
<tr><td align="center">Health</td><td align="center">Can receive damage</td><td align="center">Enemy, Spaceship</td></tr>
<tr><td align="center">Hitbox2D</td><td align="center">Can collide in 2D space</td><td align="center">Item, Enemy, Spaceship</td></tr>
<tr><td align="center">Item</td><td align="center">Data specific to <code>Item</code> entities</td><td align="center">Item</td></tr>
<tr><td align="center">Motion2D</td><td align="center">Can move in 2D space</td><td align="center">Item, Enemy, Spaceship</td></tr>
<tr><td align="center">Spaceship</td><td align="center">Data specific to <code>Spaceship</code> entities</td><td align="center">Spaceship</td></tr>
<tr><td align="center">SpriteRender</td><td align="center">Is rendered to screen</td><td align="center">Item, Enemy, Spaceship</td></tr>
<tr><td align="center">Transform</td><td align="center">Has a position, scale, and rotation in the game</td><td align="center">Item, Enemy, Spaceship</td></tr>
</tbody></table>
<p>Again, this seems like a lot of components for only three entities. But if we keep
in mind that every component is a small piece of data that represents a single
piece of functionality for an entity, then it's easier to have a holistic view of
the entity's behavior.</p>
<p><img src="assets/entity-component-drawing.png" alt="Drawing grouping together components per entity" />
<em>Drawing that groups together components relevant to each entity: Spaceship,
Enemy, and Item. Made with Excalidraw.</em></p>
<p>You might notice that each entity in this example has a component with the same
name. In Theta Wave, functionality that is specific to an entity should
be contained by its own specific component. For example, the <code>Item</code> component
has properties that are specific to an <code>Item</code> entity:</p>
<pre><pre class="playpen"><code class="language-rust">
<span class="boring">#![allow(unused_variables)]
</span><span class="boring">fn main() {
</span>pub struct ItemComponent {
    pub price: usize,
    pub stat_effects: HashMap&lt;String, f32&gt;,
    pub bool_effects: HashMap&lt;String, bool&gt;,
    pub sprite_index: usize,
}
<span class="boring">}
</span></code></pre></pre>
<ul>
<li>
<p><code>price</code>: the monetary value required to purchase an <code>Item</code> entity
from the store.</p>
</li>
<li>
<p><code>stat_effects</code>: numerical properties affected when this item is applied
to another entity (i.e: increasing damage output).</p>
</li>
<li>
<p><code>bool_effects</code>: boolean properties affected when this item is applied to another
entity (i.e: grants damage immunity)</p>
</li>
<li>
<p><code>sprite_index</code>: location of the sprite to be rendered to the screen.</p>
</li>
</ul>
<h2><a class="header" href="#conventions-for-components-in-space-shooter" id="conventions-for-components-in-space-shooter">Conventions for Components in Space Shooter</a></h2>
<p>When defining a new entity, it is always preferable to reuse existing components.
However, as described above, there will be cases where pieces of functionality
will be specific to an entity. So it's okay to add a new one when necessary.</p>
<h3><a class="header" href="#custom-components" id="custom-components">Custom Components</a></h3>
<p>If you need to add a new component, make sure to add &quot;Component&quot; to the end of
its name. For example (and as shown above) the &quot;Item&quot; component should be named
<code>ItemComponent</code> in its struct definition. This makes it easier to distinguish
between entities, components, and systems that have the same name.</p>
<h3><a class="header" href="#tag-components" id="tag-components">Tag Components</a></h3>
<p>These are components whose sole purpose is to act as an identifier for entity.
This is particularly useful when filtering for a component that is attached to
a specific entity. For example, if an enemy entity reaches the bottom of the
game window, this causes damage to the player's defense status bar. We only
want to affect the <code>HealthComponent</code> associated with the entity with a
<code>DefenseTag</code> attached to it, not the <code>HealthComponent</code> associated with the
spaceship entity.</p>
<p>If you need to create a tag component, then &quot;Tag&quot; should be added to the end of
its name. For example, <code>DefenseTag</code> is a component meant as an identifier and
nothing else. These tag components should be added to <code>src/components/tags.rs</code>.</p>
<h2><a class="header" href="#conclusion" id="conclusion">Conclusion</a></h2>
<p>Having entities and components alone doesn't actually add functionality to the game.
This is where the &quot;Systems&quot; in ECS comes in. In the next sections of this chapter,
we will go over a few of the systems present in Theta Wave.</p>
<h1><a class="header" href="#under-construction" id="under-construction">Under construction</a></h1>
<h1><a class="header" href="#under-construction-1" id="under-construction-1">Under construction</a></h1>
<h1><a class="header" href="#under-construction-2" id="under-construction-2">Under construction</a></h1>
<h1><a class="header" href="#adding-items" id="adding-items">Adding Items</a></h1>
<p>Collecting items is a core gameplay element of Theta Wave. Items can vary
a lot in complexity. The simplest items can simply increase or decrease an
attribute. The most complex items can change the logic for abilities, or even
change overarching rules of the game.</p>
<p><img src="./assets/collecting_items.gif" alt="collecting_items" /></p>
<p>In this section we will go over the steps of adding a simple stat affecting item
to the game. We will also follow along with these steps to add the &quot;Frequency Augmentor&quot;
item to the game.</p>
<h1><a class="header" href="#design-your-item" id="design-your-item">Design your Item</a></h1>
<p>Before you start modifying the source files to add your item to the game, you
should first come up with a clear idea for your item.
You should consider the following attributes for the item:</p>
<ul>
<li>What benefits will it provide? (e.g. increase damage, fire rate, health, etc)</li>
<li>Are there any trade-offs to these benefits? (e.g. large increase in
fire rate, but lowers damage per blast)</li>
<li>What price should it be listed as in the store? (Items should be priced
according to their net benefit.)</li>
</ul>
<p>Once you have an idea for each of the points listed above, you should be ready
to start implementing your item. However, if you have ideas for the presentation
of the item in the game (keeping our <a href="https://github.com/amethyst/theta-wave/blob/master/CODE_OF_CONDUCT.md">Code of Conduct</a>
in mind) you can come up with those now too. This includes:</p>
<ul>
<li>What will the item be called? Try keeping your item's name consistent with
theta-wave's sci-fi/cosmic-horror theme.</li>
<li>What will the item look like? The item's sprite should be a visual
representation of the name you gave it.</li>
</ul>
<p>When you have the required information for your item, submit an issue if there isn't
one already. Make sure to give the issue the &quot;item&quot; tag.</p>
<h2><a class="header" href="#example-item" id="example-item">Example Item</a></h2>
<p>I want to create an item that will:</p>
<ul>
<li>Provide a substantial increase in fire rate.</li>
<li>The increase in fire rate will come at the cost of some damage per blast.</li>
<li>Cost $8 from the store.</li>
</ul>
<p>This item will be called &quot;Frequency Augmentor&quot; because it sounds &quot;sci-fi-y&quot; and
somewhat relates to what the item does. The item will look like this:</p>
<p><img src="assets/frequency_augmentor_example.png" alt="frequency_augmentor" /></p>
<p><em>Note that this image is scaled up 500%. The actual sprite on the items spritesheet
is only 14x14 pixels.</em></p>
<h1><a class="header" href="#append-sprite-to-spritesheet" id="append-sprite-to-spritesheet">Append Sprite to Spritesheet</a></h1>
<p>Once your item is designed and you have received feedback on your
submitted item issue, you can begin putting it in the game!</p>
<p>Refer to the <a href="/book/src/contributing.html">Contributing Guidelines</a> section for
details on how to fork, run, and edit the game on your machine.</p>
<p>If you do not have art yet, or you don't want to contribute art, that's okay!
There is an item placeholder
sprite already on the spritesheet that you can use for your item. It looks like this
(but scaled down to 14 by 14 pixels on the actual spritesheet):</p>
<p><img src="assets/item_placeholder_example.png" alt="item_placeholder" /></p>
<p>If you do have your own pixel art, you can add it to the items spritesheet
located at <code>assets/texture/items_spritesheet.png</code>. Add your 14 by 14 pixel
sprite for your item to the bottom row at the right end.</p>
<p><img src="assets/add_item_to_spritesheet.png" alt="add_item_to_spritesheet" /></p>
<p>Save the spritesheet containing your new item, overwriting the existing items
spritesheet.</p>
<p>The next thing you need to do, when adding your own pixel art,
is edit <code>assets/texture/items_spritesheet.ron</code> to tell
Amethyst where the new sprite is located. The vast majority of this file is an array
called &quot;sprites&quot; containing coordinates and dimensions for each of the item
sprites on the spritesheet. Scroll all the way down to the end of this file and
append the coordinate and dimension data for your new sprite. Below is an
example for the &quot;Frequency Augmentor&quot; item.</p>
<pre><pre class="playpen"><code class="language-rust">
<span class="boring">#![allow(unused_variables)]
</span><span class="boring">fn main() {
</span>List((
    texture_width: 168,
    texture_height: 70,
    sprites: [
        ...

        (
            x: 70,
            y: 14,
            width: 14,
            height: 14,
        ),
    ],
))

<span class="boring">}
</span></code></pre></pre>
<p>The width and height for all sprites on the item spritesheet should be 14,
and the x and y coordinates should both be multiples of 14.</p>
<p>At this point you should be able to build and run the game with no errors.
If this is the case, you can move on to the next section.</p>
<h1><a class="header" href="#append-data-to-itemsron" id="append-data-to-itemsron">Append Data to items.ron</a></h1>
<p>An item entity requires seven components:</p>
<ul>
<li>SpriteRender</li>
<li>ItemComponent</li>
<li>Hitbox2DComponent</li>
<li>Motion2DComponent</li>
<li>Transform</li>
<li>Transparent</li>
<li>Name</li>
<li>AnimationComponent (Optional)</li>
</ul>
<p>All of the components besides the <code>ItemComponent</code> and optional <code>AnimationComponent</code>
are consistent through out all of the items, so they do not need to be specified
by you when adding a new item.</p>
<p>The <code>ItemComponent</code> and optional <code>AnimationComponent</code> need to be specified in
<code>assets/data/items.ron</code>. For the &quot;Frequency Augmentor&quot; example we won't be adding
an animation at this point, so we don't need to worry about adding
<code>AnimationComponent</code> data to the file. For right now we just need to add the
<code>ItemComponent</code> data. This data is all of the information listed in the design section:</p>
<ul>
<li>Name</li>
<li>Sprite</li>
<li>Price</li>
<li>Effects</li>
</ul>
<p>Here is what the full entry for the new &quot;Frequency Augmentor&quot; item should like
when appended to the end <code>assets/data/items.ron</code>:</p>
<pre><pre class="playpen"><code class="language-rust">
<span class="boring">#![allow(unused_variables)]
</span><span class="boring">fn main() {
</span>...

    &quot;frequency_augmentor&quot;: (
        item_component: (
            stat_effects: {
                &quot;blast_fire_speed&quot;: -0.12,
                &quot;blast_damage&quot;: -4,
            },
            price: 8,
            sprite_index: 17,
            name: &quot;frequency_augmentor&quot;,
        ),
    ),
}
<span class="boring">}
</span></code></pre></pre>
<p>The price is set to 8, because we want the item to cost $8 from the item shop.
The name is &quot;Frequency Augmentor&quot; in snakecase which would be &quot;frequency_augmentor&quot;
(this is also the key in the hashmap). The <code>sprite_index</code> is set to 17 because
the art for the item is at index 17 in the spritesheet data file
(assets/texture/item_spritesheet.ron).
If you did not add art for your item to the spritesheet you can set the
<code>sprite_index</code> to 0 to use the placeholder art.</p>
<p>The most involved data to add is the &quot;stat_effects&quot; property. This is a hashmap
that maps names of attributes to float values. You can find a list of all these
attributes in <a href="./stat_effects.html">Appendix A</a>. Map the name of the effect you
want the item to make to a float value. For the &quot;Frequency Augmentor&quot; item,
I add  <code>-0.10</code> to <code>blast_fire_speed</code>, to decrease the delay between blasts. I
also decrease the damage per blast by 4 points of damage by setting
<code>blast_damage</code> to <code>-4</code>.</p>
<p>If you run the game after following the sections up to this point in <a href="./add_item.html">Adding Items</a>,
your item should work! Here is the &quot;Frequency Augmentor&quot; item in action:</p>
<p><img src="./assets/frequency_augmentor.gif" alt="frequency_augmentor_gif" /></p>
<p>This is the minimum amount of work that needs to be done to in order to add an item
to the game. However you should continue reading this section if...</p>
<ul>
<li>you want your item to have an animation.</li>
<li>you want to add an item that affects stats not listed in <a href="./item_effects.html">Appendix A</a>.</li>
<li>you want to add an item with a bool effect.</li>
</ul>
<h1><a class="header" href="#under-construction-3" id="under-construction-3">Under construction</a></h1>
<h1><a class="header" href="#under-construction-4" id="under-construction-4">Under construction</a></h1>
<h1><a class="header" href="#under-construction-5" id="under-construction-5">Under construction</a></h1>
<h1><a class="header" href="#under-construction-6" id="under-construction-6">Under construction</a></h1>
<h1><a class="header" href="#appendix-a-item-effects" id="appendix-a-item-effects">Appendix A: Item Effects</a></h1>
<p>Item effects refer to a string used to describe what part of the game an item
has an effect on. These strings are the keys used in both the <code>stat_effects</code> and
<code>bool_effects</code> hashmap that are properties of the ItemComponent.</p>
<h1><a class="header" href="#stat-effects" id="stat-effects">Stat Effects</a></h1>
<table><thead><tr><th align="center">Effect Name</th><th align="center">Description</th><th align="center">Use in Items</th></tr></thead><tbody>
<tr><td align="center"><code>blast_fire_speed</code></td><td align="center">Frequency that the player can fire blasts.</td><td align="center"><code>plasma_blasts, frequency_augmentor</code></td></tr>
<tr><td align="center"><code>blast_damage</code></td><td align="center">Damage that the player's blasts deal.</td><td align="center"><code>plasma_blasts, frequency_augmentor</code></td></tr>
<tr><td align="center"><code>max_speed</code></td><td align="center">Maximum speed of the player.</td><td align="center"><code>hazardous_reactor</code></td></tr>
<tr><td align="center"><code>acceleration</code></td><td align="center">Acceleration of the player.</td><td align="center"><code>warp_thruster</code></td></tr>
<tr><td align="center"><code>deceleration</code></td><td align="center">Deceleration of the player.</td><td align="center"><code>warp_thruster</code></td></tr>
<tr><td align="center"><code>crit_chance</code></td><td align="center">Critical blast roll of the player.</td><td align="center"><code>quadrupedal_tentaclover</code></td></tr>
<tr><td align="center"><code>max_defense</code></td><td align="center">Maximum health of the defense objective.</td><td align="center"><code>defense_satellite</code></td></tr>
<tr><td align="center"><code>blast_count</code></td><td align="center">Number of blasts the player fires at a time.</td><td align="center"><code>double_barrel</code></td></tr>
<tr><td align="center"><code>poison_chance</code></td><td align="center">Poison blast roll of the player.</td><td align="center"><code>yithian_plague</code></td></tr>
<tr><td align="center"><code>barrel_cooldown</code></td><td align="center">Length of barrel roll ability cooldown.</td><td align="center"><code>spice</code></td></tr>
<tr><td align="center"><code>health_multiply</code></td><td align="center">Change the maximum health by a multiple of the current value.</td><td align="center"><code>enhanced_plating</code></td></tr>
<tr><td align="center"><code>health_add</code></td><td align="center">Change the maximum health by an added value.</td><td align="center"><code>structure_reinforcement</code></td></tr>
<tr><td align="center"><code>blast_size</code></td><td align="center">Size of the player's blasts.</td><td align="center"><code>blaster_size_enhancer</code></td></tr>
</tbody></table>
<h1><a class="header" href="#bool-effects" id="bool-effects">Bool Effects</a></h1>
<table><thead><tr><th align="center">Effect Name</th><th align="center">Description</th><th align="center">Use in Items</th></tr></thead><tbody>
<tr><td align="center"><code>barrel_immunity</code></td><td align="center">Whether player takes damage from collisions while barrel rolling.</td><td align="center"><code>steel_barrel</code></td></tr>
</tbody></table>

                    </main>

                    <nav class="nav-wrapper" aria-label="Page navigation">
                        <!-- Mobile navigation buttons -->
                        

                        

                        <div style="clear: both"></div>
                    </nav>
                </div>
            </div>

            <nav class="nav-wide-wrapper" aria-label="Page navigation">
                

                
            </nav>

        </div>

        

        

        
        
        
        <script type="text/javascript">
            window.playpen_copyable = true;
        </script>
        

        

        
        <script src="elasticlunr.min.js" type="text/javascript" charset="utf-8"></script>
        <script src="mark.min.js" type="text/javascript" charset="utf-8"></script>
        <script src="searcher.js" type="text/javascript" charset="utf-8"></script>
        

        <script src="clipboard.min.js" type="text/javascript" charset="utf-8"></script>
        <script src="highlight.js" type="text/javascript" charset="utf-8"></script>
        <script src="book.js" type="text/javascript" charset="utf-8"></script>

        <!-- Custom JS scripts -->
        

        
        
        <script type="text/javascript">
        window.addEventListener('load', function() {
            window.setTimeout(window.print, 100);
        });
        </script>
        
        

    </body>
</html>
